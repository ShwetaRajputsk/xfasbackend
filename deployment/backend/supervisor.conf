[program:xfas-backend]
command=/usr/bin/python3 -m uvicorn server:app --host 127.0.0.1 --port 8000 --workers 2
directory=/var/www/backend
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/xfas-backend.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
environment=PATH="/usr/bin",PYTHONPATH="/var/www/backend"

# Restart policy
startretries=3
startsecs=10
stopwaitsecs=10

# Process management
killasgroup=true
stopasgroup=true